server:
  port: 8080

nvr:
  # Where HLS files will be written (align with nginx alias)
  hlsRoot: /var/www/streams
  # Path to ffmpeg binary
  ffmpeg: /usr/bin/ffmpeg
  # Default HLS options (can be tuned later)
  hls:
    time: 1           # 更低切片时长以降低延迟
    listSize: 6       # 较小窗口，保持近实时
    deleteSegments: true
    aacBitrate: 96k
  # Optional: additional global ffmpeg flags (tuned for lower latency)
  ffmpegFlags: "-rtsp_transport tcp -rtsp_flags prefer_tcp -analyzeduration 2000000 -probesize 2000000 -fflags nobuffer+genpts -flags low_delay -use_wallclock_as_timestamps 1"

spring:
  mvc:
    cors:
      mappings:
        - path-pattern: "/**"
          allowed-origins: "*"
          allowed-methods: "*"
          allowed-headers: "*"
